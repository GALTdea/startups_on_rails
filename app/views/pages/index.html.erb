<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12" data-controller="tabs">
  <div class="text-center mb-12">
    <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl">
      Startups on Rails
    </h1>
    <p class="mt-5 max-w-xl mx-auto text-xl text-gray-500">
      Discover innovative companies, technologies, and solutions built with Ruby on Rails
    </p>
  </div>

  <div class="mb-16">
    <div class="sm:hidden">
      <label for="section-tabs" class="sr-only">Select a section</label>
      <select id="section-tabs" name="section-tabs" class="block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500">
        <option selected>Featured Companies</option>
        <option>Featured Technologies</option>
        <option>Featured Solutions</option>
        <option>Curated Collections</option>
      </select>
    </div>
    
    <div class="hidden sm:block">
      <div class="border-b border-gray-200">
        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
          <button class="border-blue-500 text-blue-600 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" 
                  data-tabs-target="tab" 
                  data-tab-target="featured-companies"
                  data-action="click->tabs#switch">
            Featured Companies
          </button>
          <button class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
                  data-tabs-target="tab"
                  data-tab-target="featured-technologies"
                  data-action="click->tabs#switch">
            Featured Technologies
          </button>
          <button class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
                  data-tabs-target="tab"
                  data-tab-target="featured-solutions"
                  data-action="click->tabs#switch">
            Featured Solutions
          </button>
          <button class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"
                  data-tabs-target="tab"
                  data-tab-target="curated-collections"
                  data-action="click->tabs#switch">
            Curated Collections
          </button>
        </nav>
      </div>
    </div>

    <div class="mt-8">
      <div id="featured-companies" class="tab-content" data-tabs-target="content">
        <%= render "companies/featured_companies_grid", 
            featured_companies: @featured_companies %>
      </div>

      <div id="featured-technologies" class="tab-content hidden" data-tabs-target="content">
        <%= render "technologies/featured_technologies_grid", 
            featured_technologies: @featured_technologies %>
      </div>

      <div id="featured-solutions" class="tab-content hidden" data-tabs-target="content">
        <%= render "solutions/featured_solutions_grid", 
            featured_solutions: @featured_solutions %>
      </div>

      <div id="curated-collections" class="tab-content hidden" data-tabs-target="content">
        <%= render "listings/curated_collections_grid", 
            featured_listings: @featured_listings %>
      </div>
    </div>
  </div>
</div>

<%# Second tab system (new) %>
<%= render "listings/list_tabs", featured_listings: @featured_listings %>

<%# Third section with company grids %>
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="text-center mb-12">
    <h2 class="text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight">
      Featured Companies by Category
    </h2>
    <p class="mt-5 max-w-xl mx-auto text-xl text-gray-500">
      Explore innovative companies in different industries built with Ruby on Rails
    </p>
  </div>

  <div class="space-y-12">
    <% @featured_companies.each do |featured_listing| %>
      <%= render "companies/company_featured_listing_grid", featured_listing: featured_listing %>
    <% end %>
  </div>
</div>

<%# Add Stimulus controller for tab functionality %>
